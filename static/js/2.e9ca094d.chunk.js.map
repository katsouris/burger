{"version":3,"sources":["components/UI/Input/Input.js","components/Order/CheckoutSummary/CheckoutSummary.js","containers/Checkout/ContactData/ContactData.js","containers/Checkout/Checkout.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Input_css__WEBPACK_IMPORTED_MODULE_1__","_Input_css__WEBPACK_IMPORTED_MODULE_1___default","input","props","inputElement","inputClasses","classes","InputElement","invalid","shouldValidate","touched","push","Invalid","elementType","a","createElement","Object","assign","className","join","elementConfig","value","onChange","changed","options","map","option","key","displayValue","Input","Label","label","checkoutSummary","react_default","CheckoutSummary","style","width","margin","Burger","ingredients","Button","Btntype","clicked","checkoutCanceled","checkoutContinued","contactData","state","orderForm","name","type","placeholder","validation","required","valid","surname","age","minLength","maxLength","email","deliveryMethod","formIsValid","orderHandler","event","preventDefault","formData","formElementIdentifier","_this","order","ing","price","toPr","orderData","userId","onOrderBurger","token","inputChangedHandler","inputIndentifier","updatedOrderFormElement","updateObject","target","checkValidity","updatedOrderForm","defineProperty","formIsvalid","console","log","setState","_this2","this","formElementsArray","id","config","form","onSubmit","formElement","disabled","loading","Spinner","ContactData","Component","connect","burgerBuilder","totalPrice","auth","dispatch","actions","withErrorHandler","axios","Checkout","checkoutCanceledHandler","history","goBack","checkoutContinuedHandler","replace","summary","Redirect","to","purchasedRedirect","purchased","CheckoutSummary_CheckoutSummary","Route","path","match","url","component"],"mappings":"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","file":"static/js/2.e9ca094d.chunk.js","sourcesContent":["import React from 'react';\nimport classes from './Input.css';\n\nconst input=(props)=>{\n    let inputElement=null;\n    const inputClasses = [classes.InputElement]\n\n    if (props.invalid && props.shouldValidate && props.touched){\n        inputClasses.push(classes.Invalid)\n    }\n\n    switch(props.elementType){\n        case ('input') :\n            inputElement=<input className={inputClasses.join(' ')}\n                                {...props.elementConfig}\n                                value={props.value}\n                                onChange={props.changed}/>\n            break;\n        case ('textarea') :\n            inputElement=<textarea className={inputClasses.join(' ')}\n                                   {...props.elementConfig}\n                                   value={props.value}\n                                onChange={props.changed}/>\n            break;\n        case ('select') :\n            inputElement=(<select className={inputClasses.join(' ')}\n                                    value={props.value}\n                                    onChange={props.changed}>\n\n                                 {props.elementConfig.options.map(option =>(\n                                     <option key={option.value} value={option.value}>\n                                         {option.displayValue}\n                                     </option>\n                                 ))}\n                        </select>\n            );\n            break;\n        default :\n            inputElement=<input className={inputClasses.join(' ')}\n                                {...props.elementConfig}\n                                value={props.value}\n                                onChange={props.changed}/>\n\n    }\n    return(\n        <div className={classes.Input} >\n            <label className={classes.Label}> {props.label} </label>\n            {inputElement}\n        </div>\n    );\n}\n\nexport default input;","import React from'react';\nimport Burger from '../../Burger/Burger';\nimport Button from '../../UI/Button/Button';\nimport classes from './CheckoutSummary.css';\n\nconst checkoutSummary =(props) =>{\n    return(\n        <div className={classes.CheckoutSummary}>\n            <h1>We hope it taste good</h1>\n            <div style={{width:'100%', margin:'auto'}}>\n            <Burger  ingredients={props.ingredients}/>\n            </div>\n            <Button Btntype=\"Danger\" clicked={props.checkoutCanceled}> CANCEL</Button>\n            <Button Btntype=\"Success\" clicked={props.checkoutContinued}> OK</Button>\n\n        </div>\n\n    );\n}\nexport default checkoutSummary;","import React,{Component} from 'react';\nimport Button from '../../../components/UI/Button/Button';\nimport classes from './ContactData.css';\nimport Spinner from '../../../components/UI/Spinner/Spinner';\nimport {updateObject, checkValidity} from '../../../shared/utility';\nimport axios from \"../../../axios-orders\";\nimport Input from '../../../components/UI/Input/Input';\nimport {connect} from 'react-redux';\nimport withErrorHandler from '../../../hoc/withErrorHandler/withErrorHandler';\nimport * as actions from '../../../store/actions/index';\n\n\n\nclass contactData extends Component{\n    state={\n        orderForm: {\n\n                name : {\n                  elementType: 'input',\n                  elementConfig:{\n                      type: 'text',\n                      placeholder: 'Your name'\n                  },\n                  value: '',\n                  validation: {\n                      required:true\n                  },\n                    valid:false,\n                    touched: false\n                },\n                surname: {\n                    elementType: 'input',\n                    elementConfig:{\n                        type: 'text',\n                        placeholder: 'Your surname'\n                    },\n                    value: '',\n                    validation: {\n                        required:true\n                    },\n                    valid:false,\n                    touched: false\n                },\n                age: {\n                    elementType: 'input',\n                    elementConfig:{\n                        type: 'text',\n                        placeholder: 'Your age'\n                    },\n                    value: '',\n                    validation: {\n                        required:true,\n                        minLength: 0,\n                        maxLength: 2\n                    },\n                    valid:false,\n                    touched: false\n                },\n                email: {\n                    elementType: 'input',\n                    elementConfig:{\n                        type: 'email',\n                        placeholder: 'Your email'\n                    },\n                    value: '',\n                    validation: {\n                        required:true\n                    },\n                    valid:false,\n                    touched: false\n                },\n                deliveryMethod:{\n                    elementType: 'select',\n                    elementConfig:{\n                        options:[\n                            {value: 'fastest', displayValue: 'Fastest'},\n                            {value: 'cheapest', displayValue: 'Cheapest'}\n                            ]\n                    },\n                    value: 'fastest',\n                    validation: { },\n                    valid:false,\n                    touched: false\n                }\n\n\n        },\n        formIsValid:false\n    }\n    orderHandler=(event)=>{\n        event.preventDefault();\n        //alert('THA FAME MAGKES')\n        const formData ={};\n        for(let formElementIdentifier in this.state.orderForm){\n            formData[formElementIdentifier] = this.state.orderForm[formElementIdentifier].value\n        }\n        const order = {\n            ingredients : this.props.ing,\n            price : this.props.toPr,\n            orderData: formData,\n            userId: this.props.userId\n        };\n        this.props.onOrderBurger(order, this.props.token);\n\n    }\n\n\n\n     inputChangedHandler=(event,inputIndentifier)=>{\n        //console.log(event.target.value)\n\n\n         const updatedOrderFormElement= updateObject(this.state.orderForm[inputIndentifier],{\n             value:event.target.value,\n             valid: checkValidity(event.target.value, this.state.orderForm[inputIndentifier].validation),\n             touched: true\n         });\n        const updatedOrderForm=updateObject(this.state.orderForm,{\n            [inputIndentifier]:updatedOrderFormElement})\n\n         //console.log(updatedOrderFormElement)\n         let formIsvalid =true ;\n        for(let inputIndentifier in updatedOrderForm){\n            formIsvalid= updatedOrderForm[inputIndentifier].valid && updatedOrderForm[inputIndentifier].validation\n        }\n        console.log(formIsvalid)\n         this.setState({\n             orderForm: updatedOrderForm,formIsValid:formIsvalid\n          })\n\n\n\n    }\n\n    render(){\n        const formElementsArray= [];\n        for(let key in this.state.orderForm){\n            formElementsArray.push({\n                id: key,\n                config: this.state.orderForm[key]\n            });\n        }\n        let form=(\n            <form onSubmit={this.orderHandler}>\n                {formElementsArray.map(formElement=>(\n                    <Input\n                        key={ formElement.id}\n                        elementType={formElement.config.elementType}\n                        elementConfig={formElement.config.elementConfig}\n                        value={formElement.config.value}\n                        invalid={!formElement.config.valid}\n                        shouldValidate={formElement.config.validation}\n                        touched={formElement.config.touched}\n                        changed={(event)=>this.inputChangedHandler(event,formElement.id)}/>\n                ))}\n            <Button Btntype=\"Success\" disabled={!this.state.formIsValid}>Order Now</Button>\n        </form>\n        );\n        if(this.props.loading){\n            form= <Spinner />;\n        }\n        return(\n         <div className={classes.ContactData}>\n            <h4>Complete your Order</h4>\n             {form}\n         </div>\n\n        );\n    }\n}\n\n\nconst mapStateToProps = state =>{\n    return {\n        ing: state.burgerBuilder.ingredients,\n        toPr: state.burgerBuilder.totalPrice,\n        loading: state.order.loading,\n        token: state.auth.token,\n        userId: state.auth.userId\n    }\n}\n\nconst mapDispatchToProps = dispatch=>{\n    return {\n        onOrderBurger: (orderData, token) => dispatch(actions.purchaseBurger(orderData, token))\n    }\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(withErrorHandler(contactData,axios));","import React,{Component} from 'react';\nimport CheckoutSummary from '../../components/Order/CheckoutSummary/CheckoutSummary';\nimport ContactData from './ContactData/ContactData';\nimport {Route,Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux'\n\nclass Checkout extends Component{\n\n    checkoutCanceledHandler=()=>{\n        this.props.history.goBack()\n    }\n    checkoutContinuedHandler=()=>{\n        this.props.history.replace('/checkout/contact-data')\n    }\n\n    render(){\n    let summary = <Redirect to=\"/\" />;\n    if(this.props.ing){\n        const purchasedRedirect = this.props.purchased ? <Redirect to='/'/> :null;\n       summary=( <div>\n           {purchasedRedirect}\n            <CheckoutSummary\n                checkoutContinued={this.checkoutContinuedHandler}\n                checkoutCanceled={this.checkoutCanceledHandler}\n                ingredients={this.props.ing}/>\n            <Route path={this.props.match.url + \"/contact-data\"} component={ContactData}   />\n\n        </div>);\n    }\n        return summary;\n\n    }\n\n}\n\nconst mapStateToProps=state=> {\n    return {\n        ing: state.burgerBuilder.ingredients,\n        purchased: state.order.purchased\n    }\n}\n\nexport default  connect(mapStateToProps)(Checkout);"],"sourceRoot":""}